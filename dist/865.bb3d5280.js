"use strict";(self.webpackChunkblog=self.webpackChunkblog||[]).push([[865],{6900:function(e,r){r.Z={"auth/wrong-password":"Wrong password!","auth/user-not-found":"Such a user doesn'nt exist!","auth/too-many-requests":"Too many requests, try again later!","auth/email-already-in-use":"User witch such an email already exists!"}},8381:function(e,r){r.Z={PASSWORD_MIN_LENGTH:6}},4865:function(e,r,t){t.r(r),t.d(r,{default:function(){return N}}),t(8309);var n=t(6252),a=t(3577),o=t(9963),s={class:"max-w-lg w-full"},i={class:"bg-white shadow-md border border-gray-200 rounded-lg w-full p-4 sm:p-6 lg:p-8"},l=(0,n._)("h3",{class:"text-2xl text-center font-medium text-gray-900"}," Sign up ",-1),u=["for"],d=["onUpdate:modelValue","type","onInput","placeholder"],c={key:0,class:"text-red-500 text-sm"},m={type:"submit",class:"w-full h-12 font-semibold text-white outline-none bg-blue-700 hover:bg-blue-800 ring-blue-700 focus:ring-2 rounded-lg px-5 text-center"},p={key:1},f={key:0,class:"text-red-500 text-sm text-center"},b={class:"text-sm text-center font-medium text-gray-500"},g=(0,n.Uk)(" Already have an account? "),w=(0,n.Uk)(" Sign in ");t(5666),t(7941),t(2526),t(7327),t(1539),t(5003),t(4747),t(9337),t(8674);var h=t(2262),y=t(989),v=t(2954),x=t(9501),O=t(6900),_=t(8381),k=t(7712);function S(e,r,t,n,a,o,s){try{var i=e[o](s),l=i.value}catch(e){return void t(e)}i.done?r(l):Promise.resolve(l).then(n,a)}function P(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?P(Object(t),!0).forEach((function(r){D(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function D(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}(0,v.jQ)({validateOnModelUpdate:!1,validateOnInput:!1});var I={name:"Login",components:{Form:v.l0,Field:v.gN,ErrorMessage:v.Bc},data:function(){return{name:"",email:"",password:"",errors:O.Z,validationSchema:(0,h.Xl)((0,x.Ry)({name:(0,x.Z_)().required("Name can't be empty!"),email:(0,x.Z_)().required("Email can't be empty!").email("Not valid email!"),password:(0,x.Z_)().required("Password can't be empty").min(_.Z.PASSWORD_MIN_LENGTH,"Yup can't be shorter than ".concat(_.Z.PASSWORD_MIN_LENGTH," chars!")),passwordConfirm:(0,x.Z_)().required("Password can't be empty").oneOf([(0,x.iH)("password"),null],"Passwords must match!")})),fields:[{name:"name",type:"text",label:"Your name",placeholder:"John Doe",model:""},{name:"email",type:"email",label:"Your email",placeholder:"example@mail.com",model:""},{name:"password",type:"password",label:"Your password",placeholder:"●●●●●●",model:""},{name:"passwordConfirm",type:"password",label:"Confirm password",placeholder:"●●●●●●",model:""}]}},computed:j(j({},(0,y.Se)("auth",["isDataLoading","error"])),{},{validationClasses:function(){return function(e,r){return e&&r?"ring-red-500 border-red-500 focus:ring-red-500 focus:border-red-500":!e&&r?"ring-green-500 border-green-500 focus:ring-green-600 focus:border-green-600":"focus:ring-blue-500 focus:border-blue-500"}}}),methods:j(j({},(0,y.nv)("auth",["signup"])),{},{submit:function(e){var r,t=this;return(r=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.name=t.fields[0].model,t.email=t.fields[1].model,t.password=t.fields[2].model,e.next=5,t.signup({name:t.name,email:t.email,password:t.password});case 5:if(!0===e.sent){e.next=8;break}return e.abrupt("return");case 8:t.$router.push("/");case 9:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(n,a){var o=r.apply(e,t);function s(e){S(o,n,a,s,i,"next",e)}function i(e){S(o,n,a,s,i,"throw",e)}s(void 0)}))})()},focusInvalidInput:k.NM})};const Z=(0,t(3744).Z)(I,[["render",function(e,r,t,h,y,v){var x=(0,n.up)("Field"),O=(0,n.up)("Spinner"),_=(0,n.up)("router-link"),k=(0,n.up)("Form");return(0,n.wg)(),(0,n.iD)("div",s,[(0,n._)("div",i,[(0,n.Wm)(k,{onSubmit:v.submit,onInvalidSubmit:r[0]||(r[0]=function(r){var t=r.results;return v.focusInvalidInput(y.fields,t,e.$refs)}),class:"space-y-8","validation-schema":y.validationSchema},{default:(0,n.w5)((function(){return[l,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(y.fields,(function(e,r){var t=e.name,s=e.label,i=e.placeholder,l=e.type,m=void 0===l?"text":l;return(0,n.wg)(),(0,n.j4)(x,{key:t,name:t},{default:(0,n.w5)((function(e){var l=e.field,p=e.errors,f=e.handleChange,b=e.meta;return[(0,n._)("div",null,[(0,n._)("label",{for:t,class:"text-sm text-gray-900 font-medium block mb-2"},(0,a.zw)(s),9,u),(0,n.wy)((0,n._)("input",(0,n.dG)({ref_for:!0,ref:t},l,{"onUpdate:modelValue":function(e){return y.fields[r].model=e},type:m,onInput:function(e){return f(e,b.touched)},placeholder:i,class:["bg-gray-50 border outline-none focus:ring-2 border-gray-300 text-gray-900 sm:text-sm rounded-lg block w-full p-2.5",[v.validationClasses(p[0],b.touched)]]}),null,16,d),[[o.YZ,y.fields[r].model]]),p[0]&&b.touched?((0,n.wg)(),(0,n.iD)("span",c,(0,a.zw)(p[0]),1)):(0,n.kq)("v-if",!0)])]})),_:2},1032,["name"])})),128)),(0,n._)("button",m,[e.isDataLoading?((0,n.wg)(),(0,n.j4)(O,{key:0,class:"block mx-auto"})):((0,n.wg)(),(0,n.iD)("span",p,"Create an account"))]),e.error?((0,n.wg)(),(0,n.iD)("p",f,(0,a.zw)(y.errors[e.error]||"Something went wrong"),1)):(0,n.kq)("v-if",!0),(0,n._)("div",b,[g,(0,n.Wm)(_,{to:"/login",class:"text-blue-700 hover:underline"},{default:(0,n.w5)((function(){return[w]})),_:1})])]})),_:1},8,["onSubmit","validation-schema"])])])}]]);var N=Z}}]);